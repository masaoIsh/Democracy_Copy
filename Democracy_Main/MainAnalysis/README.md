Replication Package for "Democracy and Growth in the 21st Century" by Yusuke Narita

This replication package includes the final datasets used in the empirical analysis, the code to assemble it, and the code to generate all the empirical results.

All Stata, R, and Python scripts are configured using the `set_paths.sh` script in the root directory.

## Automated Setup
Before running any analysis, execute the `set_paths.sh` script from the repository's root directory.
```bash
chmod +x set_paths.sh
./set_paths.sh
```

## Create Output Directories
Before running the analysis, you may need to create the following output directories if they don't exist:
```bash
mkdir -p Democracy_Main/MainAnalysis/output/data
mkdir -p Democracy_Main/MainAnalysis/output/tables
mkdir -p Democracy_Main/MainAnalysis/output/tables/appendix
mkdir -p Democracy_Main/MainAnalysis/output/tables/coefs
mkdir -p Democracy_Main/MainAnalysis/output/tables/extensions
mkdir -p Democracy_Main/MainAnalysis/output/tables/old
mkdir -p Democracy_Main/MainAnalysis/output/tables/old/coefs
```

These directories are required for the code to store generated datasets, tables, and coefficients.

## Running the Analysis
The easiest way to reproduce all results is to run the master script, which executes all do-files in the correct order.
```stata
cd Democracy_Main/MainAnalysis/code
do run_all.do
```
R scripts are called from Stata as needed and should not be run manually.

## Manually Created Tables
The following tables are manually created and are not generated by the code:
- Table: Data Sources and Description
- Table: Directions of Potential Bias in the IV Estimates

## Extended Analysis
The following tables and figures are created using separate code from the `Dem_Growth_Extend` directory and require a high-performance computing cluster:
- Table: Effect of Democracy on (Log) GDP per Capita
- Table: IV Estimates of the Effect of Democracy on (Log) GDP per Capita
- Figure: Dynamic Panel Model Estimates of the Effects of Democratization on the Log of GDP Per Capita

## Folder Structure
There are three main folders: "code", "input" and "output".

---------------------------------------------------------------
The "code" folder contains the code to assemble the final datasets and to generate regression and descriptive tables and figures.

The "run_all.do" file inside the folder runs all the dofiles.

The "1_assemble" folder contains the code to assemble the final dataset, "total.dta."
- The data assembly runs the following files in sequence:
  * 0_prelim.do
  * 1_outcomes.do
  * 2_democracy.do
  * 3_controls.do
  * 4_IVs.do
  * 5_channels.do
  * 6_all.do
- All the data generated by the code will be stored in the "output" folder's "data" folder. 

The "2_analyze" folder contains the code to generate all the figures, descriptive statistics, and regression results. 

### MAIN PAPER
- "table2.do" generates Table 1 Panels A and B.
- "table2_invalid_iv.R" generates Table 1 Panel C.
- "final_table_mech.do" generates all the estimates in Table 2.
- "figure1.R" generates Figure 1. 
- "figure2.R" generates Figure 2.

### APPENDIX
- "table1.R"
- "02_descriptive_stats.R"
- "03_dem_ranking.do"
- "05_corr_dem_indices.do"
- "06_ols_control_gdp.do"
- "15_first_stage.do"
- "08_monotonicity_check.do"
- "09_ivs_corr.do"
- "mechanism_appendix.do"
- "additional_outcomes.do" 
- "19_table2_pc.do"
- "24_2sls_indices.do"
- "20_2sls_recession.do"
- "27_2sls_exclude_US_China.do"
- "28_2sls_outliers.do"
- "29_2sls_remove_g7.do"
- "25_2sls_weighting.do"
- "21_2sls_control_gdp.do"
- "23_2sls_control_continent.do"
- "30_2sls_by_decade.do"
- "table2_change.do"
- "32_2sls_policy_mechanisms.do"

### R FILES
R scripts are intended to be called from Stata and do not need to be run manually. The automated setup script configures all necessary paths.

---------------------------------------------------------------
The "input" folder should store all the raw data necessary to assemble the final dataset. 

**IMPORTANT**: Download the input folder from: https://www.dropbox.com/scl/fo/vxrge7256gz7q0kb7vif1/AC0dpYPJazDieybg5APy-1Q?rlkey=l43wxqhynp60e0p8uv0n6tjx2&dl=0

Place the downloaded "input" folder in the main project directory at:
`Democracy/Democracy_Main/MainAnalysis/input/`

---------------------------------------------------------------
The "output" folder stores all the code output.
